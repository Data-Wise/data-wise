#!/bin/zsh
# medplan - MediationVerse Planning Helper
# Quick access to all planning resources (Option D Hybrid)

PLANNING_DIR="$HOME/projects/dev-tools/data-wise/planning"
TECH_DIR="$HOME/projects/research/mediation-planning"
BOARD_FILE="$HOME/projects/r-packages/PROJECT-BOARD.md"
GITHUB_PROJECTS="https://github.com/users/Data-Wise/projects/1"

case "${1:-status}" in
  status|s)
    echo "üìã MediationVerse Planning Status"
    echo "================================="
    echo ""
    echo "üî¥ DO NOW:"
    grep -A1 "^\- \[ \].*üî¥\|^\- \[ \] \*\*" "$BOARD_FILE" 2>/dev/null | head -3
    echo ""
    echo "üì¶ Package Status:"
    grep -E "^\| \*\*med|^\| \*\*prob|^\| \*\*rmed" "$BOARD_FILE" 2>/dev/null
    echo ""
    echo "üìÅ Commands: board | now | tech | github | all | sync"
    ;;
    
  board|b)
    ${EDITOR:-code} "$BOARD_FILE"
    ;;
    
  now|n)
    ${EDITOR:-code} "$PLANNING_DIR/NOW.md"
    ;;
    
  tech|t)
    ${EDITOR:-code} "$TECH_DIR"
    ;;
    
  github|g)
    open "$GITHUB_PROJECTS"
    ;;
    
  all|a)
    ${EDITOR:-code} "$BOARD_FILE" "$PLANNING_DIR/NOW.md" "$TECH_DIR"
    open "$GITHUB_PROJECTS"
    ;;
    
  sync)
    echo "Syncing planning docs to GitHub..."
    cd "$TECH_DIR" && git add -A && git commit -m "sync: planning docs" && git push
    echo "‚úÖ Done"
    ;;
    
  *)
    echo "Usage: medplan [status|board|now|tech|github|all|sync]"
    ;;
esac
